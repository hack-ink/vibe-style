[package]
authors     = ["Xavier Lau <x@acg.box>"]
build       = "build.rs"
categories  = []
default-run = "vstyle"
description = "AST-based style checker and formatter for deterministic, rule-driven code layout."
edition     = "2024"
homepage    = "https://hack.ink/vibe-style"
keywords    = []
license     = "GPL-3.0"
name        = "vibe-style"
readme      = "README.md"
repository  = "https://github.com/hack-ink/vibe-style"
resolver    = "3"
version     = "0.1.0"

[package.metadata.docs.rs]
all-features = true

[package.metadata.binstall]
bin-dir = "{ name }-{ target }-v{ version }/{ bin }{ binary-ext }"
pkg-fmt = "tgz"
pkg-url = "{ repo }/releases/download/v{ version }/{ name }-{ target }-v{ version }.{ archive-format }"

[package.metadata.binstall.overrides.x86_64-pc-windows-msvc]
pkg-fmt = "zip"

[[bin]]
name = "vstyle"
path = "src/main.rs"

[[bin]]
name = "cargo-vstyle"
path = "src/main.rs"

[profile.final-release]
inherits = "release"
lto      = true

[build-dependencies]
vergen-gitcl = { version = "9.1", features = ["cargo"] }

[dependencies]
cargo_metadata = { version = "0.20" }
clap           = { version = "4.5", features = ["derive"] }
color-eyre     = { version = "0.6" }
once_cell      = { version = "1.21" }
ra_ap_syntax   = { version = "0.0.319" }
rayon          = { version = "1.11" }
regex          = { version = "1.12" }
serde_json     = { version = "1.0" }
